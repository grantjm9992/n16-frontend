"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[642],{9632:(f,m,s)=>{s.d(m,{n:()=>t});var l=s(5384),c=s(4650);let t=(()=>{class a extends l.s{getAll(e=""){return this.get(`${this.getUrl()}?${e}`)}find(e){return this.get(`${this.getUrl()}/${e}`)}create(e){return this.post(`${this.getUrl()}`,e)}update(e,r){return this.post(`${this.getUrl()}/${e}`,r)}remove(e){return this.delete(`${this.getUrl()}/${e}`)}}return a.\u0275fac=function(){let u;return function(r){return(u||(u=c.n5z(a)))(r||a)}}(),a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},3688:(f,m,s)=>{s.d(m,{L:()=>t});var l=s(5384),c=s(4650);let t=(()=>{class a extends l.s{getEvents(e="",r="",h="",g=""){return this.get(`/events?date=${e}&by_teacher=${r}&company_id=${h}&my_calendar=${g}`)}getEvent(e){return this.get(`/events/${e}`)}updateEvent(e,r){return this.post(`/events/${e}`,r)}updateEventForGroup(e,r){return this.post(`/events/update-events-for-group/${e}`,r)}deleteEventsForGroup(e,r){return this.post(`/events/delete-events-for-group/${e}`,{date_range_start:r})}deleteEvent(e){return this.delete(`/events/${e}`)}updateEventClassroom(e,r){return this.post(`/events/update-classroom/${e}/${r}`)}updateEventStart(e,r){return this.post(`/events/update-dates/${e}`,r)}updateEventTeacher(e,r){return this.post(`/events/update-teacher/${e}/${r}`)}updateEventTeacherForGroup(e,r){return this.post(`/events/update-teacher-for-group/${e}/${r}`)}updateEventClassroomForGroup(e,r){return this.post(`/events/update-classroom-for-group/${e}/${r}`)}createEvent(e){return this.post("/events",e)}getEventTypes(){return this.get("/event-type")}suspendForDay(e,r){return this.post(`/events/suspend-events/${e}/${r}`)}}return a.\u0275fac=function(){let u;return function(r){return(u||(u=c.n5z(a)))(r||a)}}(),a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},9593:(f,m,s)=>{s.r(m),s.d(m,{EventTypeModule:()=>T});var l=s(6895),c=s(9585),t=s(4650),a=s(3688),u=s(3599);let e=(()=>{class o{constructor(n,i,d){this.eventApiService=n,this.router=i,this.activatedRoute=d,this.rows=[],this.loadingIndicator=!0,this.reorderable=!0,this.ColumnMode=c.hq}ngOnInit(){this.eventApiService.getEventTypes().subscribe(n=>{this.rows=n.data,this.loadingIndicator=!1})}onRowClicked(n){"click"===n.type&&this.router.navigate([n.row.id],{relativeTo:this.activatedRoute})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(a.L),t.Y36(u.F0),t.Y36(u.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-event-type"]],decls:18,vars:5,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title","d-flex","justify-content-between"],["routerLink","new","tabindex","-1","role","button",1,"btn","btn-primary"],[1,"table-responsive"],["rowHeight","auto",1,"bootstrap",3,"rows","loadingIndicator","columnMode","footerHeight","limit","activate"],["name","Name","prop","name"]],template:function(n,i){1&n&&(t.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),t._uU(4,"Event types"),t.qZA()(),t.TgZ(5,"li",4),t._uU(6,"List"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),t._uU(12," Event types "),t.TgZ(13,"a",10),t._uU(14,"New"),t.qZA()(),t.TgZ(15,"div",11)(16,"ngx-datatable",12),t.NdJ("activate",function(v){return i.onRowClicked(v)}),t._UZ(17,"ngx-datatable-column",13),t.qZA()()()()()()),2&n&&(t.xp6(16),t.Q6J("rows",i.rows)("loadingIndicator",i.loadingIndicator)("columnMode",i.ColumnMode.force)("footerHeight",50)("limit",10))},dependencies:[u.yS,c.nE,c.UC]}),o})();var r=s(433),h=s(3116);function g(o,p){if(1&o){const n=t.EpF();t.TgZ(0,"div",18),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.delete())}),t._uU(1,"Delete"),t.qZA()}}function y(o,p){if(1&o&&(t.TgZ(0,"p",19),t._uU(1),t.qZA()),2&o){const n=p.$implicit;t.xp6(1),t.Oqu(n)}}let b=(()=>{class o{constructor(n,i,d,v){this.router=n,this.activatedRoute=i,this.apiService=d,this.formBuilder=v,this.error=[],this.entity=null,this.id=null}ngOnInit(){this.form=this.formBuilder.group({name:["",r.kI.required]}),this.id=this.activatedRoute.snapshot.paramMap.get("id"),null!==this.id&&"new"!==this.id&&this.apiService.find(this.id).subscribe(n=>{this.entity=n.data,this.form.patchValue(n.data)})}onSubmit(){this.error=[];const n={...this.entity,...this.form.value};"new"!==this.id?this.apiService.update(this.entity.id,n).subscribe(()=>{this.router.navigate(["/event-type"])},i=>{if(i.errors)for(let d in i.errors)i.errors[d].forEach(v=>{this.error.push(v)});else this.error.push(i.message)}):this.apiService.create(n).subscribe(()=>{this.router.navigate(["/event-type"])},i=>{if(i.errors)for(let d in i.errors)i.errors[d].forEach(v=>{this.error.push(v)});else this.error.push(i.message)})}delete(){this.apiService.remove(this.entity.id).subscribe(n=>{this.router.navigate(["/event-type"])})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(u.F0),t.Y36(u.gz),t.Y36(h.L),t.Y36(r.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit"]],decls:24,vars:4,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-6","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","autocomplete","off","placeholder","Name","formControlName","name",1,"form-control"],["type","submit",1,"btn","btn-primary","me-2"],["routerLink","../",1,"btn","btn-secondary","me-2"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","text-danger mt-1",4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"],[1,"text-danger","mt-1"]],template:function(n,i){1&n&&(t.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),t._uU(4,"Event types"),t.qZA()(),t.TgZ(5,"li",4),t._uU(6),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),t._uU(12,"Event types"),t.qZA(),t.TgZ(13,"form",10),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(14,"div",11)(15,"label",12),t._uU(16,"Name"),t.qZA(),t._UZ(17,"input",13),t.qZA(),t.TgZ(18,"button",14),t._uU(19,"Submit"),t.qZA(),t.TgZ(20,"div",15),t._uU(21,"Cancel"),t.qZA(),t.YNc(22,g,2,0,"div",16),t.qZA(),t.YNc(23,y,2,1,"p",17),t.qZA()()()()),2&n&&(t.xp6(6),t.Oqu(null===i.entity?"New":"Edit"),t.xp6(7),t.Q6J("formGroup",i.form),t.xp6(9),t.Q6J("ngIf",null!==i.entity),t.xp6(1),t.Q6J("ngForOf",i.error))},dependencies:[l.sg,l.O5,u.rH,u.yS,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),o})();var E=s(9177);const _=[{path:"",component:e},{path:":id",component:b}];let T=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.ez,u.Bz.forChild(_),c.xD,r.u5,r.UX,E.A0]}),o})()}}]);